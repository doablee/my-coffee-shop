<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop | The Coffee Nook</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --coffee-dark: #3c2a21; --accent: #d4a373; --cream: #fff8ea; }
        body { font-family: 'Poppins', sans-serif; background-color: var(--cream); color: var(--coffee-dark); margin: 0; }
        
        /* Navigation */
        nav { background: var(--coffee-dark); padding: 20px; text-align: center; color: white; position: sticky; top: 0; z-index: 100; display: flex; justify-content: space-around; align-items: center;}
        .cart-btn { background: var(--accent); border: none; padding: 10px 20px; color: white; border-radius: 5px; cursor: pointer; font-weight: bold; }

        .shop-container { max-width: 1100px; margin: 40px auto; padding: 20px; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }

        /* Item Cards */
        .shop-item { background: white; padding: 25px; border-radius: 15px; box-shadow: 0 10px 20px rgba(0,0,0,0.05); transition: 0.3s; }
        .shop-item:hover { transform: translateY(-5px); }
        .shop-item h3 { margin-top: 0; font-family: 'Playfair Display', serif; }
        
        .controls { margin-top: 15px; display: flex; flex-direction: column; gap: 10px; }
        select, input { padding: 8px; border-radius: 5px; border: 1px solid #ddd; }
        .add-btn { background: var(--coffee-dark); color: white; border: none; padding: 10px; cursor: pointer; border-radius: 5px; transition: 0.3s; }
        .add-btn:hover { background: var(--accent); }

        /* Sidebar Cart */
        .cart-sidebar { position: fixed; right: -400px; top: 0; width: 350px; height: 100%; background: white; box-shadow: -5px 0 15px rgba(0,0,0,0.1); transition: 0.4s; padding: 30px; z-index: 1000; overflow-y: auto; }
        .cart-sidebar.active { right: 0; }
        .cart-item { display: flex; justify-content: space-between; margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px; font-size: 0.9rem; }
        .close-cart { background: none; border: none; font-size: 1.5rem; cursor: pointer; float: right; }
        .checkout-btn { width: 100%; padding: 15px; background: #2d6a4f; color: white; border: none; border-radius: 5px; margin-top: 20px; cursor: pointer; }
    </style>
</head>
<body>

<nav>
    <h2 style="font-family: 'Playfair Display'; margin:0;">The Coffee Nook Shop</h2>
    <button class="cart-btn" onclick="toggleCart()">üõí Basket (<span id="cart-count">0</span>)</button>
</nav>

<div class="shop-container">
    <div class="shop-item" data-name="Iced Latte" data-price="4.50">
        <h3>Iced Latte ‚òï</h3>
        <p>Creamy espresso over ice.</p>
        <div class="controls">
            <label>Size:</label>
            <select class="item-size">
                <option value="0">Regular ($4.50)</option>
                <option value="1.50">Large (+$1.50)</option>
            </select>
            <button class="add-btn" onclick="addToCart(this)">Add to Basket</button>
        </div>
    </div>

    <div class="shop-item" data-name="Avocado Wrap" data-price="7.00">
        <h3>Avocado Wrap üåØ</h3>
        <p>Fresh greens and lime crema.</p>
        <div class="controls">
            <label>Quantity:</label>
            <input type="number" class="item-qty" value="1" min="1">
            <button class="add-btn" onclick="addToCart(this, true)">Add to Basket</button>
        </div>
    </div>

    <div class="shop-item" data-name="Cupcake" data-price="3.50">
        <h3>Gourmet Cupcake üßÅ</h3>
        <p>Today's special frosting.</p>
        <div class="controls">
            <label>Quantity:</label>
            <input type="number" class="item-qty" value="1" min="1">
            <button class="add-btn" onclick="addToCart(this, true)">Add to Basket</button>
        </div>
    </div>
</div>

<div class="cart-sidebar" id="cartSidebar">
    <button class="close-cart" onclick="toggleCart()">√ó</button>
    <h2>Your Basket</h2>
    <div id="cart-items-list">
        </div>
    <hr>
    <h3>Total: $<span id="cart-total">0.00</span></h3>
    <button class="checkout-btn" onclick="alert('Proceeding to Payment...')">Checkout Now</button>
</div>

<script>
    let cart = [];
    
    function toggleCart() {
        document.getElementById('cartSidebar').classList.toggle('active');
    }

    function addToCart(btn, isFood = false) {
        const itemEl = btn.closest('.shop-item');
        const name = itemEl.getAttribute('data-name');
        const basePrice = parseFloat(itemEl.getAttribute('data-price'));
        
        let finalPrice = basePrice;
        let extraInfo = "";

        if (!isFood) {
            const sizeSelect = itemEl.querySelector('.item-size');
            const upcharge = parseFloat(sizeSelect.value);
            finalPrice += upcharge;
            extraInfo = upcharge > 0 ? "(Large)" : "(Regular)";
        } else {
            const qty = parseInt(itemEl.querySelector('.item-qty').value);
            finalPrice *= qty;
            extraInfo = `x${qty}`;
        }

        cart.push({ name, price: finalPrice, info: extraInfo });
        updateCartUI();
    }

    function updateCartUI() {
        const list = document.getElementById('cart-items-list');
        const totalEl = document.getElementById('cart-total');
        const countEl = document.getElementById('cart-count');
        
        list.innerHTML = "";
        let total = 0;

        cart.forEach((item, index) => {
            total += item.price;
            list.innerHTML += `
                <div class="cart-item">
                    <span>${item.name} ${item.info}</span>
                    <span>$${item.price.toFixed(2)}</span>
                </div>`;
        });

        totalEl.innerText = total.toFixed(2);
        countEl.innerText = cart.length;
    }
</script>

</body>
</html>